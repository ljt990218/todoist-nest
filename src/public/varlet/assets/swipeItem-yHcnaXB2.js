import{f as De,a as Ae,s as Fe}from"./icon-vdiOjEHh.js";import{W as Ue,V as We,G as ne,j as O,a5 as Ye,J as Le,o as w,C as S,D as He,H as $,L as c,X as V,y as I,I as C,M as b,P as Q,ay as H,K as Z,F as Me,a9 as Re,az as Ve,d as ae,r as m,c as X,aH as Xe,ak as Ke,a0 as E,w as _,aM as qe,ac as je,Y as Ge,R as te,Q as M,ah as R,am as x,$ as Je,al as Oe,S as ie,U as Qe,a3 as Ze,a4 as _e}from"./__uno-C5uaOKZs.js";import{b as xe}from"./shared-B5B2mrma.js";const le=Symbol("SWIPE_BIND_SWIPE_ITEM_KEY");function en(){const{childProviders:e,length:i,bindChildren:a}=Ue(le);return{length:i,swipeItems:e,bindSwipeItems:a}}const oe={loop:{type:Boolean,default:!0},autoplay:[String,Number],duration:{type:[String,Number],default:300},initialIndex:{type:[String,Number],default:0},navigation:{type:[Boolean,String],default:!1},indicator:{type:Boolean,default:!0},indicatorColor:String,vertical:Boolean,touchable:{type:Boolean,default:!0},onChange:We()};var T=(e,i,a)=>new Promise((p,s)=>{var t=f=>{try{l(a.next(f))}catch(h){s(h)}},d=f=>{try{l(a.throw(f))}catch(h){s(h)}},l=f=>f.done?p(f.value):Promise.resolve(f.value).then(t,d);l((a=a.apply(e,i)).next())});const nn=250,an=20,{name:tn,n:ee,classes:ln}=ne("swipe"),on=["onClick"];function rn(e,i){const a=O("var-icon"),p=O("var-button"),s=Ye("hover");return Le((w(),S("div",{class:c(e.n()),ref:"swipeEl"},[He("div",{class:c(e.classes(e.n("track"),[e.vertical,e.n("--vertical")])),style:V({width:e.vertical?void 0:e.toSizeUnit(e.trackSize),height:e.vertical?e.toSizeUnit(e.trackSize):void 0,transform:"translate".concat(e.vertical?"Y":"X","(").concat(e.toSizeUnit(e.trackTranslate),")"),transitionDuration:e.lockDuration?"0ms":"".concat(e.toNumber(e.duration),"ms")}),onTouchstart:i[0]||(i[0]=(...t)=>e.handleTouchstart&&e.handleTouchstart(...t)),onTouchmove:i[1]||(i[1]=(...t)=>e.handleTouchmove&&e.handleTouchmove(...t)),onTouchend:i[2]||(i[2]=(...t)=>e.handleTouchend&&e.handleTouchend(...t))},[$(e.$slots,"default")],38),e.navigation?$(e.$slots,"prev",H(Z({key:0},{index:e.index,length:e.length,prev:e.prev,next:e.next,to:e.to,hovering:e.hovering})),()=>[I(Q,{name:e.getNavigationAnimation("prev")},{default:C(()=>[e.navigation===!0||e.hovering?(w(),S("div",{key:0,class:c(e.classes(e.n("navigation"),e.n("navigation-prev"),[e.vertical,e.n("--navigation-vertical-prev")]))},[I(p,{"var-swipe-cover":"",disabled:!e.loop&&e.index===0,class:c(e.n("navigation-prev-button")),onClick:i[3]||(i[3]=t=>e.prev())},{default:C(()=>[I(a,{"var-swipe-cover":"",class:c(e.n("navigation-prev-button-icon")),name:e.vertical?"chevron-up":"chevron-left"},null,8,["class","name"])]),_:1},8,["disabled","class"])],2)):b("v-if",!0)]),_:1},8,["name"])]):b("v-if",!0),e.navigation?$(e.$slots,"next",H(Z({key:1},{index:e.index,length:e.length,hovering:e.hovering,prev:e.prev,next:e.next,to:e.to})),()=>[I(Q,{name:e.getNavigationAnimation("next")},{default:C(()=>[e.navigation===!0||e.hovering?(w(),S("div",{key:0,class:c(e.classes(e.n("navigation"),e.n("navigation-next"),[e.vertical,e.n("--navigation-vertical-next")]))},[I(p,{"var-swipe-cover":"",class:c(e.n("navigation-next-button")),disabled:!e.loop&&e.index===e.length-1,onClick:i[4]||(i[4]=t=>e.next())},{default:C(()=>[I(a,{"var-swipe-cover":"",class:c(e.n("navigation-next-button-icon")),name:e.vertical?"chevron-down":"chevron-right"},null,8,["class","name"])]),_:1},8,["class","disabled"])],2)):b("v-if",!0)]),_:1},8,["name"])]):b("v-if",!0),$(e.$slots,"indicator",H(Ve({index:e.index,length:e.length,hovering:e.hovering,prev:e.prev,next:e.next,to:e.to})),()=>[e.indicator&&e.length?(w(),S("div",{key:0,class:c(e.classes(e.n("indicators"),[e.vertical,e.n("--indicators-vertical")]))},[(w(!0),S(Me,null,Re(e.length,(t,d)=>(w(),S("div",{class:c(e.classes(e.n("indicator"),[e.index===d,e.n("--indicator-active")],[e.vertical,e.n("--indicator-vertical")])),style:V({background:e.indicatorColor}),key:t,onClick:l=>e.to(d)},null,14,on))),128))],2)):b("v-if",!0)])],2)),[[s,e.handleHovering]])}const re=ae({name:tn,directives:{Hover:De},components:{VarButton:Ae,VarIcon:Fe},props:oe,setup(e){const i=m(null),a=m(0),p=X(()=>e.vertical),s=m(0),t=m(0),d=m(!1),l=m(0),f=m(!1),{swipeItems:h,bindSwipeItems:B,length:o}=en(),{popup:q,bindPopup:ue}=xe(),{deltaX:ve,deltaY:de,moveX:fe,moveY:ce,offsetX:he,offsetY:me,touching:j,direction:pe,startTime:ge,startTouch:we,moveTouch:Se,endTouch:Ie}=Xe(),G=X(()=>pe.value===(e.vertical?"vertical":"horizontal"));let J=!1,D=-1;B({size:a,currentIndex:l,vertical:p}),Ke(()=>window,"keydown",Ce),E(ue,null),_(()=>o.value,()=>T(this,null,function*(){yield R(),W(),y()})),q&&_(()=>q.show.value,n=>T(this,null,function*(){n?(yield R(),y()):k()})),qe(y),je(k),Ge(y);function g(n){return h.find(({index:r})=>r.value===n)}function Te(){e.loop&&(t.value>=0&&g(o.value-1).setTranslate(-s.value),t.value<=-(s.value-a.value)&&g(0).setTranslate(s.value),t.value>-(s.value-a.value)&&t.value<0&&(g(o.value-1).setTranslate(0),g(0).setTranslate(0)))}function A(n){const r=Je(n)?n:Math.floor((t.value-a.value/2)/-a.value),{loop:u}=e;return r<=-1?u?-1:0:r>=o.value?u?o.value:o.value-1:r}function ye(n){const{loop:r}=e;return n===-1?r?o.value-1:0:n===o.value?r?0:o.value-1:n}function F(n){return e.loop?n<0?o.value+n:n>=o.value?n-o.value:n:Oe(n,0,o.value-1)}function U(){return T(this,null,function*(){const n=t.value>=a.value,r=t.value<=-s.value,u=0,v=-(s.value-a.value);d.value=!0,(n||r)&&(d.value=!0,t.value=r?u:v,g(0).setTranslate(0),g(o.value-1).setTranslate(0)),yield R(),d.value=!1})}function W(){J||(l.value=F(M(e.initialIndex)),J=!0)}function Y(){const{autoplay:n}=e;!n||o.value<=1||(k(),D=window.setTimeout(()=>{P(),Y()},M(n)))}function k(){D&&clearTimeout(D)}function be(n){return T(this,null,function*(){o.value<=1||!e.touchable||(we(n),k(),yield U(),d.value=!0)})}function $e(n){const{touchable:r,vertical:u}=e;!j.value||!r||(Se(n),G.value&&(x(n),t.value+=u?ce.value:fe.value,Te()))}function ke(){if(!j.value||(Ie(),!G.value))return;const{vertical:n,onChange:r}=e,u=n?de.value<0:ve.value<0,v=n?me.value:he.value,z=performance.now()-ge.value<=nn&&v>=an?A(u?l.value+1:l.value-1):A();d.value=!1,t.value=z*-a.value;const Be=l.value;l.value=ye(z),Y(),Be!==l.value&&E(r,l.value)}function Pe(n){e.navigation==="hover"&&(f.value=n)}function ze(n){return e.navigation!=="hover"?"":ee("--navigation".concat(e.vertical?"-vertical":"","-").concat(n,"-animation"))}function Ce(n){if(!h.length||h.findIndex(({isFocusing:v})=>v.value)===-1)return;const{key:u}=n;x(n),u==="ArrowLeft"&&L(),u==="ArrowRight"&&P()}function y(){i.value&&(d.value=!0,a.value=e.vertical?i.value.offsetHeight:i.value.offsetWidth,s.value=a.value*o.value,t.value=l.value*-a.value,h.forEach(n=>{n.setTranslate(0)}),Y(),setTimeout(()=>{d.value=!1}))}function P(n){return T(this,null,function*(){if(o.value<=1)return;W();const{loop:r,onChange:u}=e,v=l.value;if(l.value=F(v+1),(n==null?void 0:n.event)!==!1&&E(u,l.value),yield U(),v===o.value-1&&r){g(0).setTranslate(s.value),t.value=o.value*-a.value;return}v!==o.value-1&&(t.value=l.value*-a.value)})}function L(n){return T(this,null,function*(){if(o.value<=1)return;W();const{loop:r,onChange:u}=e,v=l.value;if(l.value=F(v-1),(n==null?void 0:n.event)!==!1&&E(u,l.value),yield U(),v===0&&r){g(o.value-1).setTranslate(-s.value),t.value=a.value;return}v!==0&&(t.value=l.value*-a.value)})}function Ee(n,r){if(o.value<=1||n===l.value)return;n=n<0?0:n,n=n>=o.value?o.value:n;const u=n>l.value?P:L,v=Math.abs(n-l.value);Array.from({length:v}).forEach((Ne,z)=>{u({event:z===v-1?r==null?void 0:r.event:!1})})}return{length:o,index:l,swipeEl:i,trackSize:s,trackTranslate:t,lockDuration:d,hovering:f,n:ee,toSizeUnit:te,classes:ln,handleTouchstart:be,handleTouchmove:$e,handleTouchend:ke,next:P,prev:L,to:Ee,resize:y,toNumber:M,handleHovering:Pe,getNavigationAnimation:ze}}});re.render=rn;var N=re;ie(N);Qe(N,oe);const gn=N;var wn=N;function sn(){const{bindParent:e,index:i,parentProvider:a}=Ze(le);return e||_e("SwipeItem","<var-swipe-item/> must in <var-swipe/>"),{index:i,swipe:a,bindSwipe:e}}const{name:un,n:vn}=ne("swipe-item"),dn=["aria-hidden"];function fn(e,i){return w(),S("div",{class:c(e.n()),style:V({width:e.vertical?void 0:e.toSizeUnit(e.size),height:e.vertical?e.toSizeUnit(e.size):void 0,transform:"translate".concat(e.vertical?"Y":"X","(").concat(e.toSizeUnit(e.translate),")")}),tabindex:"-1","aria-hidden":e.currentIndex!==e.index,onFocus:i[0]||(i[0]=a=>e.isFocusing=!0),onBlur:i[1]||(i[1]=a=>e.isFocusing=!1)},[$(e.$slots,"default")],46,dn)}const se=ae({name:un,setup(){const e=m(0),i=m(!1),{swipe:a,bindSwipe:p,index:s}=sn(),{size:t,currentIndex:d,vertical:l}=a,f={index:s,isFocusing:X(()=>i.value),setTranslate:h};p(f);function h(B){e.value=B}return{isFocusing:i,size:t,index:s,currentIndex:d,vertical:l,translate:e,n:vn,toSizeUnit:te}}});se.render=fn;var K=se;ie(K);const Sn=K;var In=K;export{Sn as _,gn as a,wn as b,In as s};
