import{b as ke}from"./icon-DHmKmwnm.js";import{V as E,G as F,o as H,C as re,D as N,H as U,L as g,X as W,d as Y,r as f,c as h,ad as Be,w as M,Z as Pe,ac as ze,Y as de,ak as De,a0 as z,Q as Ee,ah as G,a2 as ae,ab as Me,aL as Le,S as K,U as R,W as J,a3 as ce,a4 as ue,a5 as Ne,J as Ae,j as fe,g as O,I as Q,E as j,K as We,a7 as Fe,aM as He,P as Ue,R as Ye,af as Ke,$ as Re,al as Ve,aw as ie}from"./__uno-BH6Bw0DK.js";import{s as _e,b as Xe}from"./swipeItem-CzGgertc.js";import{l as oe}from"./shared-Dotpn_Ji.js";const A={offsetTop:{type:[String,Number],default:0},zIndex:{type:[String,Number],default:10},cssMode:Boolean,disabled:Boolean,onScroll:E()};var se=(e,t,n)=>new Promise((i,d)=>{var l=a=>{try{o(n.next(a))}catch(s){d(s)}},v=a=>{try{o(n.throw(a))}catch(s){d(s)}},o=a=>a.done?i(a.value):Promise.resolve(a.value).then(l,v);o((n=n.apply(e,t)).next())});const{name:Ze,n:je,classes:Ge}=F("sticky");function Je(e,t){return H(),re("div",{class:g(e.classes(e.n(),[e.enableCSSMode,e.n("--css-mode")])),ref:"stickyEl",style:W({zIndex:e.toNumber(e.zIndex),top:e.enableCSSMode?"".concat(e.offsetTop,"px"):void 0,width:e.enableFixedMode?e.fixedWidth:void 0,height:e.enableFixedMode?e.fixedHeight:void 0})},[N("div",{class:g(e.n("wrapper")),ref:"wrapperEl",style:W({zIndex:e.toNumber(e.zIndex),position:e.enableFixedMode?"fixed":void 0,width:e.enableFixedMode?e.fixedWrapperWidth:void 0,height:e.enableFixedMode?e.fixedWrapperHeight:void 0,left:e.enableFixedMode?e.fixedLeft:void 0,top:e.enableFixedMode?e.fixedTop:void 0})},[U(e.$slots,"default")],6)],6)}const ve=Y({name:Ze,props:A,setup(e){const t=f(null),n=f(null),i=f(!1),d=f("0px"),l=f("0px"),v=f("auto"),o=f("auto"),a=f("auto"),s=f("auto"),C=h(()=>!e.disabled&&e.cssMode),b=h(()=>!e.disabled&&!e.cssMode&&i.value),c=h(()=>Be(e.offsetTop));let u;M(()=>e.disabled,I),Pe(()=>se(this,null,function*(){yield G(),T(),y()})),ze(V),de(I),De(()=>window,"scroll",y);function p(){const{cssMode:$,disabled:D}=e;if(D)return;let k=0;if(u&&u!==window){const{top:r}=ae(u);k=r}const B=n.value,P=t.value,{top:Z,left:w}=ae(P),_=Z-k;return _<=c.value?($||(v.value="".concat(P.offsetWidth,"px"),o.value="".concat(P.offsetHeight,"px"),d.value="".concat(k+c.value,"px"),l.value="".concat(w,"px"),a.value="".concat(B.offsetWidth,"px"),s.value="".concat(B.offsetHeight,"px"),i.value=!0),{offsetTop:c.value,isFixed:!0}):(i.value=!1,{offsetTop:_,isFixed:!1})}function T(){u=Me(t.value),u!==window&&u.addEventListener("scroll",y)}function y(){const $=p();$&&z(e.onScroll,$.offsetTop,$.isFixed)}function V(){!u||u===window||u.removeEventListener("scroll",y)}function I(){return se(this,null,function*(){i.value=!1,yield Le(),p()})}return{stickyEl:t,wrapperEl:n,isFixed:i,offsetTop:c,fixedTop:d,fixedLeft:l,fixedWidth:v,fixedHeight:o,fixedWrapperWidth:a,fixedWrapperHeight:s,enableCSSMode:C,enableFixedMode:b,n:je,classes:Ge,resize:I,toNumber:Ee}}});ve.render=Je;var q=ve;K(q);R(q,A);var Oe=q;const me=Symbol("TABS_ITEMS_BIND_TAB_ITEM_KEY");function Qe(){const{bindChildren:e,childProviders:t,length:n}=J(me);return{length:n,tabItemList:t,bindTabItem:e}}const qe=Symbol("TAB_ITEM_BIND_LIST_KEY");function xe(){const{parentProvider:e,bindParent:t,index:n}=ce(me);return t||ue("TabItem","<var-tab-item/> must in <var-tabs-items/>"),{index:n,tabsItems:e,bindTabsItems:t}}function en(){const{childProviders:e,bindChildren:t,length:n}=J(qe);return{length:n,lists:e,bindLists:t}}const be={name:[String,Number],disabled:Boolean,ripple:{type:Boolean,default:!0},onClick:E()},he=Symbol("TABS_BIND_TAB_KEY");function nn(){const{childProviders:e,bindChildren:t,length:n}=J(he);return{length:n,tabList:e,bindTabList:t}}function tn(){const{parentProvider:e,bindParent:t,index:n}=ce(he);return t||ue("Tab","<var-tab/> must in <var-tabs/>"),{index:n,tabs:e,bindTabs:t}}const{name:an,n:X,classes:on}=F("tab");function sn(e,t){const n=Ne("ripple");return Ae((H(),re("div",{class:g(e.classes(e.n(),e.n("$--box"),e.computeColorClass(),e.n("--".concat(e.itemDirection)))),ref:"tabEl",style:W({color:e.computeColorStyle()}),onClick:t[0]||(t[0]=(...i)=>e.handleClick&&e.handleClick(...i))},[U(e.$slots,"default")],6)),[[n,{disabled:e.disabled||!e.ripple}]])}const pe=Y({name:an,directives:{Ripple:ke},props:be,setup(e){const t=f(null),n=h(()=>t.value),i=h(()=>e.name),d=h(()=>e.disabled),{index:l,tabs:v,bindTabs:o}=tn(),{onTabClick:a,active:s,activeColor:C,inactiveColor:b,disabledColor:c,itemDirection:u,resize:p}=v,T={name:i,index:l,disabled:d,element:n};o(T),M(()=>[e.name,e.disabled],p);function y(){return e.name!=null?s.value===e.name:s.value===(l==null?void 0:l.value)}function V(){return e.disabled?c.value:y()?C.value:b.value}function I(){return e.disabled?X("$-tab--disabled"):y()?X("$-tab--active"):X("$-tab--inactive")}function $(D){const{disabled:k,name:B,onClick:P}=e;k||(z(P,B!=null?B:l.value,D),a(T))}return{tabEl:t,active:s,activeColor:C,inactiveColor:b,itemDirection:u,n:X,classes:on,computeColorStyle:V,computeColorClass:I,handleClick:$}}});pe.render=sn;var x=pe;K(x);R(x,be);const wn=x,ye={name:[String,Number]},{name:ln,n:rn,classes:dn}=F("tab-item");function cn(e,t){const n=fe("var-swipe-item");return H(),O(n,{class:g(e.classes(e.n(),[!e.current,e.n("--inactive")])),"var-tab-item-cover":""},{default:Q(()=>[U(e.$slots,"default")]),_:3},8,["class"])}const $e=Y({name:ln,components:{VarSwipeItem:_e},props:ye,setup(e){const t=f(!1),n=h(()=>e.name),{index:i,bindTabsItems:d}=xe(),{bindLists:l}=en(),v={index:i,name:n,current:h(()=>t.value),setCurrent:o};d(v),l(v);function o(a){t.value=a}return{current:t,n:rn,classes:dn}}});$e.render=cn;var ee=$e;K(ee);R(ee,ye);const gn=ee,Se={active:{type:[String,Number],default:0},layoutDirection:{type:String,default:"horizontal"},itemDirection:{type:String,default:"horizontal"},fixedBottom:Boolean,activeColor:String,inactiveColor:String,disabledColor:String,color:String,indicatorColor:String,indicatorSize:[String,Number],elevation:{type:[Boolean,String,Number],default:!1},scrollable:{type:String,default:"auto"},indicatorPosition:{type:String,default:"normal"},safeArea:Boolean,sticky:Boolean,stickyCssMode:j(A,"cssMode"),stickyZIndex:j(A,"zIndex"),offsetTop:j(A,"offsetTop"),onClick:E(),onChange:E(),"onUpdate:active":E()};var le=(e,t,n)=>new Promise((i,d)=>{var l=a=>{try{o(n.next(a))}catch(s){d(s)}},v=a=>{try{o(n.throw(a))}catch(s){d(s)}},o=a=>a.done?i(a.value):Promise.resolve(a.value).then(l,v);o((n=n.apply(e,t)).next())});const{name:un,n:fn,classes:vn}=F("tabs");function mn(e,t){return H(),O(Fe(e.sticky?e.n("$-sticky"):e.Transition),{ref:e.sticky?"stickyComponent":void 0,"css-mode":e.sticky?e.stickyCssMode:void 0,"offset-top":e.sticky?e.offsetTop:void 0,"z-index":e.sticky?e.stickyZIndex:void 0},{default:Q(()=>[N("div",We({class:e.classes(e.n(),e.n("$--box"),e.n("--item-".concat(e.itemDirection)),e.n("--layout-".concat(e.layoutDirection,"-padding")),e.formatElevation(e.elevation,4),[e.fixedBottom,e.n("--fixed-bottom")],[e.safeArea,e.n("--safe-area")]),style:{background:e.color}},e.$attrs),[N("div",{ref:"scrollerEl",class:g(e.classes(e.n("tab-wrap"),[e.localScrollable,e.n("--layout-".concat(e.layoutDirection,"-scrollable"))],e.n("--layout-".concat(e.layoutDirection))))},[U(e.$slots,"default"),N("div",{class:g(e.classes(e.n("indicator"),e.n("--layout-".concat(e.layoutDirection).concat(e.indicatorPosition,"-indicator")))),style:W({width:e.layoutDirection==="horizontal"?e.indicatorWidth:e.toSizeUnit(e.indicatorSize),height:e.layoutDirection==="horizontal"?e.toSizeUnit(e.indicatorSize):e.indicatorHeight,transform:e.layoutDirection==="horizontal"?"translateX(".concat(e.indicatorX,")"):"translateY(".concat(e.indicatorY,")")})},[N("div",{class:g(e.classes(e.n("indicator-inner"),e.n("--layout-".concat(e.layoutDirection,"-indicator-inner")))),style:W({background:e.indicatorColor||e.activeColor})},null,6)],6)],2)],16)]),_:3},8,["css-mode","offset-top","z-index"])}const Ce=Y({name:un,components:{VarSticky:Oe},inheritAttrs:!1,props:Se,setup(e){const t=f("0px"),n=f("0px"),i=f("0px"),d=f("0px"),l=f(!1),v=f(null),o=h(()=>e.active),a=h(()=>e.activeColor),s=h(()=>e.inactiveColor),C=h(()=>e.disabledColor),b=h(()=>e.itemDirection),c=f(null),u=h(()=>e.indicatorPosition==="reverse"?"-reverse":""),{tabList:p,bindTabList:T,length:y}=nn();T({active:o,activeColor:a,inactiveColor:s,disabledColor:C,itemDirection:b,resize:w,onTabClick:I}),M(()=>y.value,()=>le(this,null,function*(){yield G(),w()})),M(()=>[e.active,e.scrollable],w),He(w),de(w);function I(r){var m;const S=(m=r.name.value)!=null?m:r.index.value,{active:L,onChange:ge,onClick:Ie}=e;z(e["onUpdate:active"],S),z(Ie,S),S!==L&&z(ge,S)}function $(){return p.find(({name:r})=>e.active===r.value)}function D(r){return p.find(({index:m})=>(r!=null?r:e.active)===m.value)}function k(){if(y.value===0)return;const{active:r}=e;if(Re(r)){const m=Ve(r,0,y.value-1);return z(e["onUpdate:active"],m),D(m)}}function B(){l.value=e.scrollable==="always"||p.length>=5}function P({element:r}){const m=r.value;m&&(e.layoutDirection==="horizontal"?(t.value="".concat(m.offsetWidth,"px"),i.value="".concat(m.offsetLeft,"px")):(n.value="".concat(m.offsetHeight,"px"),d.value="".concat(m.offsetTop,"px")))}function Z({element:r}){if(!l.value)return;const m=v.value,S=r.value;if(e.layoutDirection==="horizontal"){const L=S.offsetLeft+S.offsetWidth/2-m.offsetWidth/2;ie(m,{left:L,animation:oe})}else{const L=S.offsetTop+S.offsetHeight/2-m.offsetHeight/2;ie(m,{top:L,animation:oe})}}function w(){const r=$()||D()||k();!r||r.disabled.value||(B(),P(r),Z(r))}function _(){return le(this,null,function*(){e.sticky&&c.value&&(yield c.value.resize())})}return{stickyComponent:c,indicatorWidth:t,indicatorHeight:n,indicatorX:i,indicatorY:d,indicatorPosition:u,localScrollable:l,scrollerEl:v,Transition:Ue,toSizeUnit:Ye,n:fn,classes:vn,resize:w,resizeSticky:_,formatElevation:Ke}}});Ce.render=mn;var ne=Ce;K(ne);R(ne,Se);const In=ne,Te={active:{type:[String,Number],default:0},canSwipe:{type:Boolean,default:!0},loop:Boolean,"onUpdate:active":E()};var bn=(e,t,n)=>new Promise((i,d)=>{var l=a=>{try{o(n.next(a))}catch(s){d(s)}},v=a=>{try{o(n.throw(a))}catch(s){d(s)}},o=a=>a.done?i(a.value):Promise.resolve(a.value).then(l,v);o((n=n.apply(e,t)).next())});const{name:hn,n:pn}=F("tabs-items");function yn(e,t){const n=fe("var-swipe");return H(),O(n,{class:g(e.n()),ref:"swipe",loop:e.loop,touchable:e.canSwipe,indicator:!1,onChange:e.handleSwipeChange},{default:Q(()=>[U(e.$slots,"default")]),_:3},8,["class","loop","touchable","onChange"])}const we=Y({name:hn,components:{VarSwipe:Xe},props:Te,setup(e){const t=f(null),{tabItemList:n,bindTabItem:i,length:d}=Qe();i({}),M(()=>e.active,a),M(()=>d.value,()=>bn(this,null,function*(){yield G(),a(e.active)}));function l(b){return n.find(({name:c})=>b===c.value)}function v(b){return n.find(({index:c})=>b===c.value)}function o(b){return l(b)||v(b)}function a(b){var c;const u=o(b);u&&(n.forEach(({setCurrent:p})=>p(!1)),u.setCurrent(!0),(c=t.value)==null||c.to(u.index.value))}function s(b){var c;const u=n.find(({index:T})=>T.value===b),p=(c=u.name.value)!=null?c:u.index.value;z(e["onUpdate:active"],p)}function C(){return t.value}return{swipe:t,n:pn,handleSwipeChange:s,getSwipe:C}}});we.render=yn;var te=we;K(te);R(te,Te);const kn=te;export{qe as T,wn as _,In as a,gn as b,kn as c};
