import{V as $,G as j,j as L,o as C,C as S,D as V,L as f,H as F,X as k,N as _,M as z,y as U,F as Fe,g as Me,ar as Ve,d as H,r as c,c as B,as as D,Y as Be,Z as ae,n as se,_ as Ee,a0 as m,w as Pe,at as Te,ah as Ie,S as Z,U as Y,am as A,au as ze,ab as De,av as ee,ad as Oe,aw as Ne,ag as ie,E as Re,ax as oe,I,ay as We,az as Le,ae as Ue,aA as Ae,Q as je}from"./__uno-BH6Bw0DK.js";import{a as He,u as de,s as Ze}from"./formDetails-CtDWKttm.js";import{b as Ye,l as qe}from"./shared-Dotpn_Ji.js";import{s as Ge}from"./icon-DHmKmwnm.js";import{i as q}from"./main-DjIizSm9.js";const G={value:{type:null,required:!0},id:{type:String,default:""},isFocusing:Boolean,size:{type:String,default:"normal"},variant:{type:String,default:"standard"},placeholder:String,line:{type:Boolean,default:!0},hint:{type:Boolean,default:!0},hintCenter:{type:Boolean,default:!0},textColor:String,focusColor:String,blurColor:String,errorMessage:String,formDisabled:Boolean,disabled:Boolean,clearable:Boolean,cursor:String,composing:Boolean,onClick:$(),onClear:$()};var Qe=(e,o,r)=>new Promise((d,l)=>{var w=s=>{try{h(r.next(s))}catch(p){l(p)}},i=s=>{try{h(r.throw(s))}catch(p){l(p)}},h=s=>s.done?d(s.value):Promise.resolve(s.value).then(w,i);h((r=r.apply(e,o)).next())});const{name:Xe,n:W,classes:Je}=j("field-decorator"),Ke=["for"];function xe(e,o){const r=L("var-icon");return C(),S("div",{class:f(e.classes(e.n(),e.n("$--box"),e.n("--".concat(e.variant)),[e.size==="small",e.n("--small")],[e.disabled,e.n("--disabled")])),onClick:o[0]||(o[0]=(...d)=>e.handleClick&&e.handleClick(...d))},[V("div",{class:f(e.classes(e.n("controller"),[e.isFocusing,e.n("--focus")],[e.errorMessage,e.n("--error")],[e.formDisabled||e.disabled,e.n("--disabled")])),style:k({color:e.color,cursor:e.cursor,overflow:e.isFloating?"visible":"hidden","--field-decorator-middle-offset-left":e.middleOffsetLeft,"--field-decorator-middle-offset-width":e.middleOffsetWidth,"--field-decorator-middle-offset-height":e.middleOffsetHeight})},[V("div",{class:f(e.classes(e.n("icon"),[!e.hint,e.n("--icon-non-hint")]))},[F(e.$slots,"prepend-icon")],2),V("div",{ref:"middleEl",class:f(e.classes(e.n("middle"),[!e.hint,e.n("--middle-non-hint")]))},[F(e.$slots,"default")],2),e.placeholder&&e.hint?(C(),S("label",{key:0,class:f(e.classes(e.n("placeholder"),e.n("$--ellipsis"),[e.isFocusing,e.n("--focus")],[e.hintCenter,e.n("--hint-center")],[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],[e.transitionDisabled,e.n("--transition-disabled")],e.computePlaceholderState())),style:k({color:e.color}),for:e.id},[V("span",null,_(e.placeholder),1)],14,Ke)):z("v-if",!0),V("div",{class:f(e.classes(e.n("icon"),[!e.hint,e.n("--icon-non-hint")]))},[e.clearable&&!e.isEmpty(e.value)?F(e.$slots,"clear-icon",{key:0,clear:e.handleClear},()=>[U(r,{class:f(e.n("clear-icon")),"var-field-decorator-cover":"",name:"close-circle",onClick:e.handleClear},null,8,["class","onClick"])]):z("v-if",!0),F(e.$slots,"append-icon")],2)],6),e.line?(C(),S(Fe,{key:0},[e.variant==="outlined"?(C(),S("fieldset",{key:0,class:f(e.classes(e.n("line"),[e.isFocusing,e.n("--line-focus")],[e.errorMessage,e.n("--line-error")],[e.formDisabled||e.disabled,e.n("--line-disabled")])),style:k({borderColor:e.color})},[V("legend",{class:f(e.classes(e.n("line-legend"),[e.isFloating,e.n("line-legend--hint")])),style:k({width:e.legendWidth})},[e.placeholder&&e.hint?(C(),Me(Ve,{key:0,to:"body"},[V("span",{ref:"placeholderTextEl",class:f(e.classes(e.n("placeholder-text"),e.n("$--ellipsis"),[e.size==="small",e.n("placeholder-text--small")]))},_(e.placeholder),3)])):z("v-if",!0)],6)],6)):(C(),S("div",{key:1,class:f(e.classes(e.n("line"),[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:k({background:e.errorMessage?void 0:e.blurColor})},[V("div",{class:f(e.classes(e.n("dot"),[e.isFocusing,e.n("--line-focus")],[e.formDisabled||e.disabled,e.n("--line-disabled")],[e.errorMessage,e.n("--line-error")])),style:k({background:e.errorMessage?void 0:e.focusColor})},null,6)],6))],64)):z("v-if",!0)],2)}const te=H({name:Xe,components:{VarIcon:Ge},props:G,setup(e){const o=c(null),r=c(null),d=c(""),l=c("0px"),w=c("0px"),i=c("0px"),h=c(!0),s=B(()=>e.hint&&(!D(e.value)||e.isFocusing)),{popup:p,bindPopup:M}=Ye(),P=B(()=>e.errorMessage?void 0:e.isFocusing?e.focusColor:e.blurColor);Be(y),ae(()=>{y(),se().then(()=>{h.value=!1})}),Ee(y),m(M,null),p&&Pe(()=>p.show.value,t=>Qe(this,null,function*(){t&&(yield Ie(),y())}));function u(){const{hint:t,value:T,composing:N}=e;if(!t&&(!D(T)||N))return W("--placeholder-hidden");if(s.value)return W("--placeholder-hint")}function g(t){m(e.onClear,t)}function b(t){m(e.onClick,t)}function y(){if(l.value="".concat(r.value.offsetLeft,"px"),w.value="".concat(r.value.offsetWidth,"px"),i.value="".concat(r.value.offsetHeight,"px"),e.variant==="outlined"&&o.value){const t=Te(o.value),T="var(--field-decorator-outlined-".concat(e.size,"-placeholder-space)");d.value="calc(".concat(t.width," * 0.75 + ").concat(T," * 2)")}}return{placeholderTextEl:o,middleEl:r,middleOffsetLeft:l,middleOffsetWidth:w,middleOffsetHeight:i,color:P,legendWidth:d,isFloating:s,transitionDisabled:h,resize:y,computePlaceholderState:u,n:W,classes:Je,isEmpty:D,handleClear:g,handleClick:b}}});te.render=xe;var Q=te;Z(Q);Y(Q,G);var _e=Q;const ue={disabled:Boolean,readonly:Boolean,scrollToError:String,scrollToErrorOffsetY:{type:[String,Number],default:0},onSubmit:$(),onReset:$()};var ne=(e,o,r)=>new Promise((d,l)=>{var w=s=>{try{h(r.next(s))}catch(p){l(p)}},i=s=>{try{h(r.throw(s))}catch(p){l(p)}},h=s=>s.done?d(s.value):Promise.resolve(s.value).then(w,i);h((r=r.apply(e,o)).next())});const{name:eo,n:oo}=j("form");function no(e,o){return C(),S("form",{class:f(e.n()),onSubmit:o[0]||(o[0]=(...r)=>e.handleSubmit&&e.handleSubmit(...r)),onReset:o[1]||(o[1]=(...r)=>e.handleReset&&e.handleReset(...r))},[F(e.$slots,"default")],34)}const fe=H({name:eo,props:ue,setup(e){const o=B(()=>e.disabled),r=B(()=>e.readonly),{formItems:d,bindFormItems:l}=He();l({disabled:o,readonly:r});function i(u){setTimeout(()=>{const g=De(u),b=g===window?0:ee(g),y=ee(u)-b-Oe(e.scrollToErrorOffsetY);Ne(g,{top:y,animation:qe})},300)}function h(u){return ne(this,null,function*(){A(u);const g=yield p();m(e.onSubmit,g)})}function s(u){A(u),M(),m(e.onReset)}function p(){return ne(this,null,function*(){var u;const g=yield Promise.all(d.map(({validate:b})=>b()));if(e.scrollToError){const[,b]=ze(g,t=>t===!1,e.scrollToError),y=b>-1;if(y){const t=(u=d[b].instance.proxy)==null?void 0:u.$el;i(t)}return!y}return g.every(b=>b===!0)})}function M(){return d.forEach(({reset:u})=>u())}function P(){return d.forEach(({resetValidation:u})=>u())}return{n:oo,handleSubmit:h,handleReset:s,validate:p,reset:M,resetValidation:P}}});fe.render=no;var O=fe;O.useValidation=ie;O.useForm=de;Z(O);Y(O,ue);const co=O;var lo=Object.defineProperty,le=Object.getOwnPropertySymbols,ro=Object.prototype.hasOwnProperty,ao=Object.prototype.propertyIsEnumerable,re=(e,o,r)=>o in e?lo(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,so=(e,o)=>{for(var r in o||(o={}))ro.call(o,r)&&re(e,r,o[r]);if(le)for(var r of le(o))ao.call(o,r)&&re(e,r,o[r]);return e};const me=so({modelValue:String,modelModifiers:{type:Object,default:()=>({})},type:{type:String,default:"text"},textarea:Boolean,rows:{type:[String,Number],default:8},maxlength:[String,Number],readonly:Boolean,resize:Boolean,autofocus:Boolean,validateTrigger:{type:Array,default:()=>["onInput","onClear"]},rules:Array,enterkeyhint:String,onFocus:$(),onBlur:$(),onInput:$(),onChange:$(),onClear:$(),"onUpdate:modelValue":$()},Re(G,["size","variant","placeholder","line","hint","textColor","focusColor","blurColor","disabled","clearable","onClick"])),{name:io,n:to,classes:uo}=j("input"),fo=["placeholder","enterkeyhint"],mo=["id","disabled","readonly","type","value","placeholder","maxlength","rows","enterkeyhint","inputmode"],ho=["id","disabled","readonly","type","value","placeholder","maxlength","enterkeyhint","inputmode"];function po(e,o){const r=L("var-field-decorator"),d=L("var-form-details");return C(),S("div",{class:f(e.classes(e.n(),e.n("$--box"))),onMousedown:o[13]||(o[13]=(...l)=>e.handleMousedown&&e.handleMousedown(...l))},[U(r,We(Le({value:e.modelValue,id:e.id,size:e.size,variant:e.variant,placeholder:e.placeholder,line:e.line,hint:e.hint,textColor:e.textColor,focusColor:e.focusColor,blurColor:e.blurColor,isFocusing:e.isFocusing,errorMessage:e.errorMessage,formDisabled:e.formDisabled,disabled:e.disabled,clearable:e.clearable,cursor:e.cursor,composing:e.isComposing,hintCenter:!e.textarea,onClick:e.handleClick,onClear:e.handleClear})),oe({"clear-icon":I(({clear:l})=>[F(e.$slots,"clear-icon",{clear:l})]),"append-icon":I(()=>[F(e.$slots,"append-icon")]),default:I(()=>[e.normalizedType==="password"?(C(),S("input",{key:0,tabindex:"-1",class:f(e.n("autocomplete")),placeholder:e.hint?void 0:e.placeholder,style:k({"--input-placeholder-color":e.placeholderColor}),enterkeyhint:e.enterkeyhint},null,14,fo)):z("v-if",!0),e.textarea?(C(),S("textarea",{key:1,class:f(e.classes(e.n("input"),e.n("--textarea"),[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],[e.errorMessage,e.n("--caret-error")])),ref:"el",autocomplete:"new-password",id:e.id,disabled:e.formDisabled||e.disabled,readonly:e.formReadonly||e.readonly,type:e.normalizedType,value:e.modelValue,placeholder:e.hint?void 0:e.placeholder,maxlength:e.maxlength,rows:e.rows,enterkeyhint:e.enterkeyhint,inputmode:e.type==="number"?"decimal":void 0,style:k({color:e.errorMessage?void 0:e.textColor,caretColor:e.errorMessage?void 0:e.focusColor,resize:e.resize?"vertical":"none","--input-placeholder-color":e.placeholderColor}),onFocus:o[0]||(o[0]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:o[1]||(o[1]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onInput:o[2]||(o[2]=(...l)=>e.handleInput&&e.handleInput(...l)),onChange:o[3]||(o[3]=(...l)=>e.handleChange&&e.handleChange(...l)),onCompositionstart:o[4]||(o[4]=(...l)=>e.handleCompositionStart&&e.handleCompositionStart(...l)),onCompositionend:o[5]||(o[5]=(...l)=>e.handleCompositionEnd&&e.handleCompositionEnd(...l))},null,46,mo)):(C(),S("input",{key:2,class:f(e.classes(e.n("input"),[e.formDisabled||e.disabled,e.n("--disabled")],[e.errorMessage,e.n("--error")],[e.errorMessage,e.n("--caret-error")])),ref:"el",autocomplete:"new-password",id:e.id,disabled:e.formDisabled||e.disabled,readonly:e.formReadonly||e.readonly,type:e.normalizedType,value:e.modelValue,placeholder:e.hint?void 0:e.placeholder,maxlength:e.maxlength,enterkeyhint:e.enterkeyhint,inputmode:e.type==="number"?"decimal":void 0,style:k({color:e.errorMessage?void 0:e.textColor,caretColor:e.errorMessage?void 0:e.focusColor,"--input-placeholder-color":e.placeholderColor}),onFocus:o[6]||(o[6]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onBlur:o[7]||(o[7]=(...l)=>e.handleBlur&&e.handleBlur(...l)),onInput:o[8]||(o[8]=(...l)=>e.handleInput&&e.handleInput(...l)),onChange:o[9]||(o[9]=(...l)=>e.handleChange&&e.handleChange(...l)),onCompositionstart:o[10]||(o[10]=(...l)=>e.handleCompositionStart&&e.handleCompositionStart(...l)),onCompositionend:o[11]||(o[11]=(...l)=>e.handleCompositionEnd&&e.handleCompositionEnd(...l))},null,46,ho))]),_:2},[e.$slots["prepend-icon"]?{name:"prepend-icon",fn:I(()=>[F(e.$slots,"prepend-icon")]),key:"0"}:void 0]),1040),U(d,{"error-message":e.errorMessage,"extra-message":e.maxlengthText,onMousedown:o[12]||(o[12]=Ue(()=>{},["stop"]))},oe({_:2},[e.$slots["extra-message"]?{name:"extra-message",fn:I(()=>[F(e.$slots,"extra-message")]),key:"0"}:void 0]),1032,["error-message","extra-message"])],34)}const he=H({name:io,components:{VarFormDetails:Ze,VarFieldDecorator:_e},props:me,setup(e){const o=Ae(),r=c(null),d=c(!1),l=c(!1),{bindForm:w,form:i}=de(),{errorMessage:h,validateWithTrigger:s,validate:p,resetValidation:M}=ie(),P=B(()=>e.disabled||e.readonly?"":"text"),u=B(()=>e.type==="number"?"text":e.type),g=B(()=>{const{maxlength:n,modelValue:a}=e;return n?D(a)?"0 / ".concat(n):"".concat(String(a).length,"/").concat(n):""}),b=B(()=>{const{hint:n,blurColor:a,focusColor:v}=e;if(!n)return h.value?"var(--field-decorator-error-color)":d.value?v||"var(--field-decorator-focus-color)":a||"var(--field-decorator-placeholder-color, var(--field-decorator-blur-color))"});m(w,{reset:K,validate:x,resetValidation:M}),ae(()=>{e.autofocus&&R()});function t(n){se(()=>{const{validateTrigger:a,rules:v,modelValue:E}=e;s(a,n,v,E)})}function T(n){d.value=!0,m(e.onFocus,n),t("onFocus")}function N(n){d.value=!1,m(e.onBlur,n),t("onBlur")}function J(n){const a=n.target;let{value:v}=a;e.type==="number"&&(v=ce(v));const E=Se(v);return E===e.modelValue&&(a.value=E),E}function pe(){l.value=!0}function ve(n){l.value&&(l.value=!1,n.target.dispatchEvent(new Event("input")))}function ge(n){if(l.value)return;const a=J(n);m(e["onUpdate:modelValue"],a),m(e.onInput,a,n),t("onInput")}function be(n){const a=$e(J(n));e.modelModifiers.trim&&m(e["onUpdate:modelValue"],a),m(e.onChange,a,n),t("onChange")}function ye(){const{disabled:n,readonly:a,clearable:v,onClear:E}=e;i!=null&&i.disabled.value||i!=null&&i.readonly.value||n||a||!v||(m(e["onUpdate:modelValue"],""),m(E,""),t("onClear"))}function Ce(n){const{disabled:a,onClick:v}=e;i!=null&&i.disabled.value||a||(m(v,n),t("onClick"))}function ce(n){const a=n.indexOf("-"),v=n.indexOf(".");return a>-1&&(n=a===0?"-"+n.replace(/-/g,""):n.replace(/-/g,"")),v>-1&&(n=n.slice(0,v+1)+n.slice(v).replace(/\./g,"")),n.replace(/[^-0-9.]/g,"")}function $e(n){return e.modelModifiers.trim?n.trim():n}function Se(n){return e.maxlength?n.slice(0,je(e.maxlength)):n}function we(n){const{disabled:a}=e;i!=null&&i.disabled.value||a||n.target===r.value||(R(),A(n))}function K(){m(e["onUpdate:modelValue"],""),M()}function x(){return p(e.rules,e.modelValue)}function R(){var n;(n=r.value)==null||n.focus()}function ke(){r.value.blur()}return{el:r,id:o,isFocusing:d,isComposing:l,errorMessage:h,placeholderColor:b,normalizedType:u,cursor:P,maxlengthText:g,formDisabled:i==null?void 0:i.disabled,formReadonly:i==null?void 0:i.readonly,n:to,classes:uo,isEmpty:D,handleFocus:T,handleBlur:N,handleInput:ge,handleChange:be,handleClear:ye,handleClick:Ce,handleCompositionStart:pe,handleCompositionEnd:ve,handleMousedown:we,validate:x,resetValidation:M,reset:K,focus:R,blur:ke}}});he.render=po;var X=he;Z(X);Y(X,me);const $o=X;function So(e=q.global.t("Value cannot be empty")){return o=>!!o||e}function wo(e=q.global.t("Email format error")){return o=>/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(o)||e}function ko(e,o){return o=o!=null?o:q.global.t("Length must be {length}",{length:e}),r=>r.length===e||o}export{$o as _,co as a,wo as b,ko as c,So as v};
