import{E as k,G as L,j as B,o as i,C as y,H as h,y as z,I as O,J as re,D as T,K as w,g as p,L as f,M as $,N as le,O as Oe,P as Ae,d as F,c as u,Q as Z,R,S as H,U,V as P,W as _e,X as ce,F as ve,r as S,w as G,Y as ke,Z as Te,_ as we,$ as Ee,a0 as d,a1 as Le,a2 as Fe,a3 as Me,a4 as Ve,a5 as De,a6 as ze,a7 as Re,a8 as Ge,a9 as He}from"./__uno-BH6Bw0DK.js";import{p as E,s as ue,a as Ue,b as je,u as Ye}from"./icon-DHmKmwnm.js";import"./main-DjIizSm9.js";const me={type:{type:String,default:"default"},position:{type:String,default:"right-top"},hidden:Boolean,value:{type:[String,Number],default:0},maxValue:[String,Number],dot:Boolean,icon:k(E,"name"),namespace:k(E,"namespace"),color:String,offsetX:{type:[String,Number],default:0},offsetY:{type:[String,Number],default:0}};var Ke=Object.defineProperty,x=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,ee=(e,a,n)=>a in e?Ke(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,qe=(e,a)=>{for(var n in a||(a={}))Xe.call(a,n)&&ee(e,n,a[n]);if(x)for(var n of x(a))We.call(a,n)&&ee(e,n,a[n]);return e};const{name:Je,n:Qe,classes:Ze}=L("badge"),xe={key:0};function ea(e,a){const n=B("var-icon");return i(),y("div",{class:f(e.classes(e.n(),e.n("$--box")))},[h(e.$slots,"default"),z(Ae,{name:e.n("$-badge-fade"),persisted:""},{default:O(()=>[re(T("span",w({class:e.classes(e.n("content"),e.n("--".concat(e.type)),[e.$slots.default,e.n("--".concat(e.position)),e.n("--offset")],[e.dot,e.n("--dot")],[e.icon,e.n("--icon")]),style:qe({background:e.color},e.offsetStyle)},e.$attrs),[e.icon?(i(),p(n,{key:0,class:f(e.n("icon")),"var-badge-cover":"",name:e.icon,namespace:e.namespace},null,8,["class","name","namespace"])):$("v-if",!0),h(e.$slots,"value",{},()=>[!e.icon&&!e.dot?(i(),y("span",xe,le(e.value),1)):$("v-if",!0)])],16),[[Oe,!e.hidden]])]),_:3},8,["name"])],2)}const de=F({name:Je,components:{VarIcon:ue},inheritAttrs:!1,props:me,setup(e){const a=u(()=>{const{value:t,maxValue:s}=e;return t!=null&&s!=null&&Z(t)>Z(s)?"".concat(s,"+"):t}),n=u(()=>({"--badge-offset-y":R(e.offsetY),"--badge-offset-x":R(e.offsetX)}));return{value:a,offsetStyle:n,n:Qe,classes:Ze}}});de.render=ea;var j=de;H(j);U(j,me);var aa=j;const fe={active:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:1},fixed:Boolean,border:Boolean,variant:Boolean,safeArea:Boolean,activeColor:String,inactiveColor:String,placeholder:Boolean,fabProps:Object,onChange:P(),onBeforeChange:P(),onFabClick:P(),"onUpdate:active":P()},pe=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY");function na(){const{childProviders:e,length:a,bindChildren:n}=_e(pe);return{length:a,bottomNavigationItems:e,bindBottomNavigationItem:n}}var oa=Object.defineProperty,ae=Object.getOwnPropertySymbols,ta=Object.prototype.hasOwnProperty,ia=Object.prototype.propertyIsEnumerable,ne=(e,a,n)=>a in e?oa(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,oe=(e,a)=>{for(var n in a||(a={}))ta.call(a,n)&&ne(e,n,a[n]);if(ae)for(var n of ae(a))ia.call(a,n)&&ne(e,n,a[n]);return e};const{name:sa,n:ra,classes:la}=L("bottom-navigation"),{n:M}=L("bottom-navigation-item"),te=M("--right-half-space"),ie=M("--left-half-space"),se=M("--right-space"),ca={type:"primary"};function va(e,a){const n=B("var-button");return i(),y(ve,null,[T("div",w({class:e.classes(e.n(),e.n("$--box"),[e.fixed,e.n("--fixed")],[e.border,e.n("--border")],[e.safeArea,e.n("--safe-area")],[e.variant,e.n("--variant")]),ref:"bottomNavigationDom",style:"z-index:".concat(e.zIndex)},e.$attrs),[h(e.$slots,"default"),e.$slots.fab?(i(),p(n,w({key:0,class:e.classes(e.n("fab"),[e.length%2,e.n("--fab-right"),e.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:e.handleFabClick},e.fabProps),{default:O(()=>[h(e.$slots,"fab")]),_:3},16,["class","onClick"])):$("v-if",!0)],16),e.fixed&&e.placeholder?(i(),y("div",{key:0,class:f(e.n("placeholder")),style:ce({height:e.placeholderHeight})},null,6)):$("v-if",!0)],64)}const be=F({name:sa,components:{VarButton:Ue},props:fe,setup(e,{slots:a}){const n=S(null),t=u(()=>e.active),s=u(()=>e.activeColor),m=u(()=>e.inactiveColor),v=u(()=>e.variant),b=S(),C=S({}),{length:l,bottomNavigationItems:N,bindBottomNavigationItem:r}=na();r({active:t,activeColor:s,inactiveColor:m,variant:v,onToggle:Ne}),G(()=>l.value,A),G(()=>e.fabProps,o=>{C.value=oe(oe({},ca),o)},{immediate:!0,deep:!0}),ke(Q),Te(()=>{Q(),a.fab&&q(l.value)}),we(()=>{Ie(),a.fab&&q(l.value)});function A(){l.value===0||_()||ye()||Ce()}function _(){return N.find(({name:o})=>t.value===o.value)}function ye(){return N.find(({index:o})=>t.value===o.value)}function Ce(){Ee(t.value)&&(t.value<0?d(e["onUpdate:active"],0):t.value>l.value-1&&d(e["onUpdate:active"],l.value-1))}function Ne(o){t.value!==o&&(e.onBeforeChange?$e(o):W(o))}function $e(o){const c=Le(d(e.onBeforeChange,o));Promise.all(c).then(g=>{g.every(Boolean)&&W(o)})}function W(o){d(e["onUpdate:active"],o),d(e.onChange,o)}function Ie(){J().forEach(c=>{c.classList.remove(te,ie,se)})}function q(o){const c=J(),g=c.length,I=o%2===0;c.forEach((V,D)=>{Pe(I,V,D,g)})}function Pe(o,c,g,I){const V=g===I-1;if(!o&&V){c.classList.add(se);return}const D=g===I/2-1,Be=g===I/2;D?c.classList.add(te):Be&&c.classList.add(ie)}function J(){return Array.from(n.value.querySelectorAll(".".concat(M())))}function Se(){d(e.onFabClick)}function Q(){if(!e.fixed||!e.placeholder)return;const{height:o}=Fe(n.value);b.value=R(o)}return{length:l,bottomNavigationDom:n,fabProps:C,placeholderHeight:b,n:ra,classes:la,handleFabClick:Se}}});be.render=va;var Y=be;H(Y);U(Y,fe);const ua=Y,ge={name:String,label:String,icon:k(E,"name"),namespace:k(E,"namespace"),badge:{type:[Boolean,Object],default:!1},onClick:P()};function ma(){const{parentProvider:e,index:a,bindParent:n}=Me(pe);return n||Ve("BottomNavigationItem","<var-bottom-navigation-item/> must in <var-bottom-navigation/>"),{index:a,bottomNavigation:e,bindBottomNavigation:n}}const{name:da,n:fa,classes:pa}=L("bottom-navigation-item"),ba={type:"danger",dot:!0};function ga(e,a){const n=B("var-icon"),t=B("var-badge"),s=De("ripple");return re((i(),y("button",{class:f(e.classes(e.n(),e.n("$--box"),[e.variant,e.n("--variant-padding")],[e.isActive&&!e.variant,e.n("--active")])),style:ce({color:e.isActive?e.activeColor:e.inactiveColor}),onClick:a[0]||(a[0]=(...m)=>e.handleClick&&e.handleClick(...m))},[T("div",{class:f(e.classes(e.n("icon-container"),[e.variant,e.n("--variant-icon-container")],[e.isActive&&e.variant,e.n("--variant-active")]))},[e.badge?(i(),p(t,w({key:0},e.badgeProps,{class:e.n("badge"),"var-bottom-navigation-item-cover":""}),{default:O(()=>[h(e.$slots,"icon",{active:e.isActive},()=>[e.icon?(i(),p(n,{key:0,name:e.icon,namespace:e.namespace,class:f(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):$("v-if",!0)])]),_:3},16,["class"])):h(e.$slots,"icon",{key:1,active:e.isActive},()=>[e.icon?(i(),p(n,{key:0,name:e.icon,namespace:e.namespace,class:f(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):$("v-if",!0)])],2),T("span",{class:f(e.n("label"))},[h(e.$slots,"default",{},()=>[ze(le(e.label),1)])],2)],6)),[[s]])}const he=F({name:da,components:{VarBadge:aa,VarIcon:ue},directives:{Ripple:je},props:ge,setup(e){const a=u(()=>e.name),n=u(()=>[a.value,s.value].includes(b.value)),t=u(()=>e.badge===!0?ba:e.badge),{index:s,bottomNavigation:m,bindBottomNavigation:v}=ma(),{active:b,activeColor:C,inactiveColor:l,variant:N}=m;v({name:a,index:s});function X(){var A;const _=(A=a.value)!=null?A:s.value;d(e.onClick,_),d(m.onToggle,_)}return{activeColor:C,inactiveColor:l,badgeProps:t,isActive:n,variant:N,n:fa,classes:pa,handleClick:X}}});he.render=ga;var K=he;H(K);U(K,ge);const ha=K,ya={class:"h-[var(--app-height)] pb-[51px] overflow-y-auto"},Ia=F({__name:"layout",setup(e){const{router:a,route:n}=Ye(),t=S(),s=S([{label:"HOME",icon:"home",name:"/layout/home"},{label:"TOPIC",icon:"heart",name:"/layout/topic"},{label:"MESSAGE",icon:"border-radius",namespace:"i",name:"/layout/message"},{label:"PROFILE",icon:"account-circle",name:"/layout/profile"}]);G(()=>n.path,v=>{t.value=v},{immediate:!0});function m(v){a.replace(v)}return(v,b)=>{const C=B("router-view"),l=ha,N=ua;return i(),y("div",ya,[z(C,null,{default:O(({Component:r})=>[(i(),p(Ge,null,[(i(),p(Re(r)))],1024))]),_:1}),z(N,{"safe-area":"",fixed:"",active:t.value,"onUpdate:active":b[0]||(b[0]=r=>t.value=r)},{default:O(()=>[(i(!0),y(ve,null,He(s.value,r=>(i(),p(l,{key:r.label,label:v.$t(r.label),icon:r.icon,name:r.name,namespace:r.namespace,onClick:()=>m(r.name)},null,8,["label","icon","name","namespace","onClick"]))),128))]),_:1},8,["active"])])}}});export{Ia as default};
